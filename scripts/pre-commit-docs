#!/bin/bash
#
# Pre-commit hook para verificar/atualizar documenta√ß√£o
#
# Para instalar:
#   cp scripts/pre-commit-docs .git/hooks/pre-commit
#   chmod +x .git/hooks/pre-commit
#
# Para desabilitar temporariamente:
#   git commit --no-verify
#

echo "üîç Verificando documenta√ß√£o..."

# Executar script de verifica√ß√£o
python scripts/update_docs.py --check-only

exit_code=$?

if [ $exit_code -ne 0 ]; then
    echo ""
    echo "‚ö†Ô∏è  Documenta√ß√£o precisa ser atualizada!"
    echo ""
    echo "Op√ß√µes:"
    echo "  1. Atualizar agora:"
    echo "     python scripts/update_docs.py"
    echo "     git add README.md CLAUDE.md"
    echo ""
    echo "  2. Pular verifica√ß√£o (n√£o recomendado):"
    echo "     git commit --no-verify"
    echo ""
    exit 1
fi

echo "‚úÖ Documenta√ß√£o est√° atualizada!"
exit 0
